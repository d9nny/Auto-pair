<section class='applicant'>
  <h1>Applicants</h1>

  <div class='results'>
    <button data-match-route="/applicants/new">
      <a href="#applicants/new">Create Applicant</a>
    </button>
    <div class="container">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Test ID</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="applicant in appCtrl.applicants">
            <td>{{ applicant.id }}</td>
            <td>
              <span editable-text="applicant.name"
                    e-name="name"
                    e-form="rowform"
                    e-required>
                {{ applicant.name || 'empty' }}
              </span>
            </td>
            <td>
              <span editable-text="applicant.email"
                    e-name="email"
                    e-form="rowform"
                    e-required>
                {{ applicant.email || 'empty' }}
              </span>
            </td>
            <td>{{ applicant.test_id }}</td>
            <td>{{ applicant.score }}</td>
            <td style="white-space: nowrap">
              <form editable-form name="rowform"
                    onaftersave="appCtrl.update($data, applicant.id)"
                    ng-show="rowform.$visible"
                    class="form-buttons form-inline"
                    shown="inserted == applicant">
                <button type="submit" class="btn btn-primary">
                  Save
                </button>
                <button type="button"
                        ng-click="appCtrl.rowform.$cancel()"
                        class="btn btn-default">
                  Cancel
                </button>
              </form>
              <div class="buttons" ng-show="!rowform.$visible">
                <button class="btn btn-primary" ng-click="rowform.$show()">Edit</button>
                <button class="btn btn-danger" ng-click="appCtrl.delete(applicant.id)">Delete</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
